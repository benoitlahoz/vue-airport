---
title: Analytics Dashboard
description: A professional analytics dashboard showcasing advanced VueAirport features with real-time metrics, charts, and notifications.
navigation:
  icon: i-lucide-layout-dashboard
seo:
  title: Analytics Dashboard
  description: Explore a professional analytics dashboard example demonstrating advanced VueAirport features including multiple plugins, real-time updates, and complex widget management.
---

A sophisticated analytics dashboard demonstrating advanced VueAirport features:

- **Multiple widget types** with different check-in patterns (Metrics, Charts, Notifications)
- **Active Item Plugin** for widget selection and highlighting
- **History Plugin** for undo/redo functionality with up to 50 operations
- **Validation Plugin** ensuring data integrity before check-in
- **Real-time data updates** with auto-refresh capability
- **Computed aggregations** from all registered widgets
- **Professional UI** with smooth animations and responsive design
- **Activity feed** tracking all dashboard events
- **TypeScript type safety** with comprehensive interfaces

::example-loader{:component="AnalyticsDashboard"}
::

## Project Structure

```
analytics-dashboard/
├── index.ts                    # Shared types and injection key
├── AnalyticsDashboard.vue     # Main dashboard with desk & plugins
├── MetricWidget.vue           # Metric card component
├── ChartWidget.vue            # Chart visualization component
├── ActivityWidget.vue         # Activity feed component
└── NotificationWidget.vue     # Notification card component
```

## Key Features

### 1. Multiple Plugin Integration

This example demonstrates how to combine multiple plugins together:

```typescript
const activeItemPlugin = createActiveItemPlugin<MetricWidgetType>();
const historyPlugin = createHistoryPlugin<MetricWidgetType>({ maxSize: 50 });
const validationPlugin = createValidationPlugin<MetricWidgetType>({
  validators: [
    (data) => {
      if (!data.title || data.title.trim().length === 0) {
        return { valid: false, error: 'Widget title is required' };
      }
      return { valid: true };
    },
    (data) => {
      if (data.type === 'metric' && typeof data.value === 'undefined') {
        return { valid: false, error: 'Metric widgets must have a value' };
      }
      return { valid: true };
    },
  ],
});

const { desk } = createDesk(DASHBOARD_DESK_KEY, {
  devTools: true,
  plugins: [validationPlugin, activeItemPlugin, historyPlugin],
  onCheckIn: (_id, data) => {
    addActivity(`Widget added: ${data.title}`, 'info');
  },
  onCheckOut: (id) => {
    const widget = desk.get(id);
    if (widget) {
      addActivity(`Widget removed: ${widget.data.title}`, 'warning');
    }
  },
});
```

### 2. Widget Types

The dashboard manages different widget types with a unified interface:

```typescript
export interface MetricWidget {
  id: string;
  type: 'metric' | 'chart' | 'activity' | 'notification';
  title: string;
  value?: number | string;
  previousValue?: number;
  unit?: string;
  trend?: 'up' | 'down' | 'stable';
  color?: 'green' | 'blue' | 'orange' | 'red' | 'purple';
  data?: Array<{ label: string; value: number }>;
  priority?: 'low' | 'medium' | 'high' | 'critical';
  timestamp?: Date;
  description?: string;
  icon?: string;
  category?: string;
}
```

### 3. Real-time Updates

Widgets automatically update their state and synchronize with the desk:

```typescript
// In child widget components
const widgetData = computed<MetricWidget>(() => ({
  id: props.id,
  type: 'metric',
  title: props.title,
  value: props.value,
  previousValue: props.previousValue,
  // ... other properties
}));

// Auto-register on mount
onMounted(() => {
  checkIn(props.id, widgetData.value);
});

// Auto-update when data changes
watch(widgetData, (newData) => {
  update(props.id, newData);
}, { deep: true });

// Auto-unregister on unmount
onUnmounted(() => {
  checkOut(props.id);
});
```

### 4. Active Item Selection

Using the Active Item plugin to track which widget is currently selected:

```typescript
type DeskWithPlugins = typeof desk & {
  activeItemId?: Ref<string | number | null>;
  setActiveItem?: (id: string | number | null) => void;
  // ... other plugin methods
};

const deskWithPlugins = desk as DeskWithPlugins;

// Select a widget
const selectWidget = (id: string | number | null) => {
  deskWithPlugins.setActiveItem?.(id);
  if (id) {
    const widget = desk.get(id);
    if (widget) {
      addActivity(`Widget selected: ${widget.data.title}`, 'info');
    }
  }
};

// Track active widget
const activeWidgetId = computed(() => deskWithPlugins.activeItemId?.value);
```

### 5. History & Undo/Redo

The History plugin enables undo/redo operations:

```typescript
const handleUndo = () => {
  if (deskWithPlugins.undo?.()) {
    addActivity('Action undone', 'info');
    updateDashboardState();
  }
};

const handleRedo = () => {
  if (deskWithPlugins.redo?.()) {
    addActivity('Action redone', 'info');
    updateDashboardState();
  }
};

// Access history state
const stats = computed(() => ({
  canUndo: deskWithPlugins.canUndo?.value || false,
  canRedo: deskWithPlugins.canRedo?.value || false,
  historySize: deskWithPlugins.historySize?.value || 0,
}));
```

### 6. Computed Dashboard Metrics

Aggregate data from all registered widgets:

```typescript
const allWidgets = computed(() => desk.getAll());

const metricWidgets = computed(() => 
  allWidgets.value.filter(w => w.data.type === 'metric')
);

const chartWidgets = computed(() => 
  allWidgets.value.filter(w => w.data.type === 'chart')
);

const notificationWidgets = computed(() => 
  allWidgets.value.filter(w => w.data.type === 'notification')
);

const criticalAlerts = computed(() => 
  notificationWidgets.value.filter(w => w.data.priority === 'critical').length
);

const dashboardState = ref<DashboardState>({
  totalRevenue: 0,
  activeUsers: 0,
  conversionRate: 0,
  serverLoad: 0,
  alerts: 0,
});
```

## Shared Types (index.ts)

```typescript
import type { InjectionKey } from 'vue';

export const DASHBOARD_DESK_KEY = Symbol('dashboard-desk') as InjectionKey<any>;

export interface MetricWidget {
  id: string;
  type: 'metric' | 'chart' | 'activity' | 'notification';
  title: string;
  value?: number | string;
  previousValue?: number;
  unit?: string;
  trend?: 'up' | 'down' | 'stable';
  color?: 'green' | 'blue' | 'orange' | 'red' | 'purple';
  data?: Array<{ label: string; value: number }>;
  priority?: 'low' | 'medium' | 'high' | 'critical';
  timestamp?: Date;
  description?: string;
  icon?: string;
  category?: string;
}

export interface DashboardState {
  totalRevenue: number;
  activeUsers: number;
  conversionRate: number;
  serverLoad: number;
  alerts: number;
}
```

## Main Dashboard Component (AnalyticsDashboard.vue)

The main dashboard creates the desk with multiple plugins and manages the overall state:

- **Validation Plugin**: Ensures all widgets have valid data before check-in
- **Active Item Plugin**: Tracks which widget is currently selected
- **History Plugin**: Maintains operation history for undo/redo (50 operations max)
- **Auto-refresh**: Simulates real-time data updates every 3 seconds
- **Activity Feed**: Logs all dashboard events with timestamps
- **Responsive Grid**: Adapts to different screen sizes

## Widget Components

### MetricWidget.vue

Displays key performance indicators with:
- Current value and unit
- Previous value comparison
- Trend indicator (up/down/stable)
- Percentage change
- Color-coded theming
- Hover and active states

### ChartWidget.vue

Visualizes data with:
- **Bar charts**: For time-series or comparison data
- **Donut charts**: For percentage distributions
- Dynamic scaling based on data values
- Color-coded theming
- Interactive hover effects

### NotificationWidget.vue

Shows system alerts with:
- Priority levels (low, medium, high, critical)
- Category badges
- Timestamp with "time ago" formatting
- Icon customization
- Animated pulse effect for critical alerts

### ActivityWidget.vue

Live activity feed displaying:
- Real-time event log
- Event type icons (info, success, warning, error)
- Color-coded entries
- Timestamp formatting
- Auto-scrolling list (max 20 items)

## Advanced Patterns

### 1. Plugin Type Extension

Extend the desk type to access plugin methods:

```typescript
type DeskWithPlugins = typeof desk & {
  activeItemId?: Ref<string | number | null>;
  setActiveItem?: (id: string | number | null) => void;
  undo?: () => boolean;
  redo?: () => boolean;
  canUndo?: Ref<boolean>;
  canRedo?: Ref<boolean>;
  historySize?: Ref<number>;
};

const deskWithPlugins = desk as DeskWithPlugins;
```

### 2. Widget Lifecycle Management

Each widget automatically manages its lifecycle:

```typescript
// Auto check-in on mount
onMounted(() => {
  checkIn(props.id, widgetData.value);
});

// Auto update on data change
watch(widgetData, (newData) => {
  update(props.id, newData);
}, { deep: true });

// Auto check-out on unmount
onUnmounted(() => {
  checkOut(props.id);
});
```

### 3. State Synchronization

Dashboard state is synchronized with widget data:

```typescript
watch(allWidgets, () => {
  updateDashboardState();
}, { deep: true });

const updateDashboardState = () => {
  const revenueWidget = metricWidgets.value.find(w => w.data.id === 'revenue');
  const usersWidget = metricWidgets.value.find(w => w.data.id === 'users');
  // ... update dashboard state from widget data
};
```

## Use Cases

This example is perfect for:

- **Business Dashboards**: Track KPIs, metrics, and analytics
- **Monitoring Systems**: Display real-time system metrics
- **Admin Panels**: Manage multiple data sources
- **Data Visualization**: Interactive charts and graphs
- **Notification Centers**: Alert and notification management

## Key Takeaways

1. **Plugin Composition**: Multiple plugins work together seamlessly
2. **Type Safety**: Full TypeScript support across all components
3. **Reactive Updates**: Automatic state synchronization
4. **Professional UI**: Production-ready design patterns
5. **Extensible**: Easy to add new widget types
6. **Maintainable**: Clear separation of concerns
7. **Performance**: Efficient computed properties and watchers
8. **DevTools**: Built-in debugging support
